{
    "version": 2,
    "name": "gachalolis",
    "disableSend": false,
    "placeBeforeInput": false,
    "injectInput": false,
    "qrList": [
        {
            "id": 2,
            "label": "init",
            "title": "",
            "message": "/echo Initializing |\n/if left={{lastMessageId}} right=0 rule=eq \"/setvar key=lolicoins 1 \\| /send <style>@keyframes bg-animate {0%{background-position: 0% 0%;} 25%{background-position: 100% 0%;} 50%{background-position: 100% 100%;} 75%{background-position: 0% 100%;}} @keyframes initial-render-shrink {0%{opacity: 0%; transform: scale(3, 3);} 100%{opacity: 100%; transform: scale(1, 1);}} @keyframes initial-render-grow {0%{opacity: 0%; transform: scale(.1, .1);} 100%{opacity: 100%; transform: scale(1, 1);}} @keyframes rank-anim {0%{transform: rotate(-15deg);} 25%{opacity: 100%; transform: rotate(-25deg);} 50%{transform: rotate(-15deg);} 75%{transform: rotate(-5deg);} 100%{transform: rotate(-15deg);}}</style> \\| /hide 1\"",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false
        },
        {
            "id": 3,
            "label": "userprocess",
            "title": "",
            "message": "/run gachalolis.getinput |\n/flushvar jbout |\n/if left=userinput right=pull rule=eq \"/run gachalolis.pullcommand\" |\n/if left=userinput right=render rule=eq \"/run gachalolis.renderhtml\" |\n/if left=userinput right=get rule=eq \"/run gachalolis.getcommand\" |\n/if left=userinput right=update rule=eq \"/run gachalolis.updatehtml\"",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false
        },
        {
            "id": 4,
            "label": "aiprocess",
            "title": "",
            "message": "/if left={{lastMessageId}} right=0 rule=eq \"/abort\" |\n/setvar key=tomsgprocess {{lastMessage}} |\n/setvar key=startregex Name\\s?[:\\-\\.]\\s |\n/setvar key=endregex \\nDescription\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=name |\n\n/setvar key=varname name |\n/run creamsan.isvardefined |\n/if left={{pipe}} right=true rule=eq \"/run gachalolis.getvals\"",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": true,
            "executeOnChatChange": false
        },
        {
            "id": 5,
            "label": "Send",
            "title": "",
            "message": "/run gachalolis.userprocess |\n/if left=blocktrigger right=true rule=eq else=\"/send {{input}}{{newline}}{{pipe}} \\| /trigger\" \"/setvar key=blocktrigger false\" | /flushvar nadanada | /setinput",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": false,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false
        },
        {
            "id": 9,
            "label": "getinput",
            "title": "",
            "message": "/setvar key=userinput {{input}}",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false
        },
        {
            "id": 10,
            "label": "renderhtml",
            "title": "",
            "message": "/setvar key=blocktrigger true |\n/if left=htmlready right=false rule=eq \"/echo No HTML to display. \\| /abort\" |\n/createentry file=\"Gacha Lolis\" key=\"{{getvar::name}}\" Name: {{getvar::name}}\nRank: {{getvar::rank}}\nDescription: {{getvar::description}}\nValue: {{getvar::value}}\n{{getvar::flavortext}}\nImage: {{getvar::image}}\nTop emojis:\n1. {{getvar::emoji1}}\n2. {{getvar::emoji2}}\n3. {{getvar::emoji3}} |\n/findentry file=\"Gacha Lolis\" {{getvar::name}} | /setvar key=uid | /setentryfield file=\"Gacha Lolis\" uid={{getvar::uid}} field=position 3 |\n/sd {{getvar::image}} |\n/setvar key=month {{datetimeformat MM}} |\n/setvar key=day {{datetimeformat DD}} |\n/setvar key=imagelink http://127.0.0.1:8000/user/images/Gacha%20Lolis/Gacha%20Lolis_{{datetimeformat YYYY}}-{{getvar::month}}-{{getvar::day}}@{{datetimeformat HH}}h{{datetimeformat mm}}m{{datetimeformat ss}}s.webp |\n/setvar key=html <div style='background: linear-gradient(45deg, {{getvar::color1}} 0%, {{getvar::color2}} 50%, {{getvar::color3}} 100%); border: 2px solid {{getvar::color1}}; background-size: 500% 500%; font-size: 14px; margin: 20px auto; padding: 15px; text-align: center; border-radius: 8px; animation: initial-render-shrink 2s linear, bg-animate 10s linear infinite; position: relative'>\n\n<div style='width: 100%; height: 350px; color: red; text-align: center'>\n<img style='border: 2px solid {{getvar::color1}}; border-radius: 3px; box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.4)' src='{{getvar::imagelink}}' alt='Image loading error :('>\n</div>\n\n<img style='position: absolute; bottom: -60px; right: -35px; transform: scale(-1, -1)' src='https://files.catbox.moe/pwbovt.png' alt='border'>\n\n<img style='position: absolute; top: -5px; left: -5px; transform: scale(1, 1)' src='https://files.catbox.moe/omaule.png' alt='border'>\n\n<img style='position: absolute; top: 350px; left: 0px; transform: scale(1, 1)' src='https://files.catbox.moe/ok60ct.png' alt='ribbon'>\n\n<p style='color: {{getvar::color3}}; position: absolute; top: 15px; left: 5px; font-size: 24px; font-weight: bolder; text-shadow: -1px -1px 0 #efe7dc, 1px -1px 0 #efe7dc, -1px 1px 0 #efe7dc, 1px 1px 0 #efe7dc; animation: initial-render-shrink 1s linear 2.5s both, rank-anim 1s linear infinite 1.5s'>Rank {{getvar::rank}}</p>\n\n<p style='font-size: 50px; position: absolute; top: 25px; right: 5px; animation: initial-render-shrink 1s linear 3.5s both, rank-anim 1s linear infinite 3.5s'>{{getvar::emoji1}}</p>\n\n<p style='font-size: 50px; position: absolute; bottom: 25px; left: 5px; animation: initial-render-shrink 1s linear 3.5s both, rank-anim 1s linear infinite 3.5s'>{{getvar::emoji2}}</p>\n\n<p style='font-size: 50px; position: absolute; bottom: 25px; right: 5px; animation: initial-render-shrink 1s linear 3.5s both, rank-anim 1s linear infinite 3.5s'>{{getvar::emoji3}}</p>\n\n<p style='font-size: 25px; text-shadow: -1px -1px 0 #372f2f, 1px -1px 0 #372f2f, -1px 1px 0 #372f2f, 1px 1px 0 #372f2f; font-weight: bolder; animation: initial-render-grow 1s linear 2.5s both'>{{getvar::name}}</p>\n\n<p style='font-size: 10px; text-shadow: -1px -1px 0 #372f2f, 1px -1px 0 #372f2f, -1px 1px 0 #372f2f, 1px 1px 0 #372f2f; font-weight: bolder; animation: initial-render-grow 1s linear 3s both'>{{getvar::description}}</p>\n\n<p style='font-size: 10px; text-shadow: -1px -1px 0 #372f2f, 1px -1px 0 #372f2f, -1px 1px 0 #372f2f, 1px 1px 0 #372f2f; font-weight: bolder; animation: initial-render-grow 1s linear 3.25s both'>Value: {{getvar::value}}</p>\n\n<p style='font-size: 10px; text-shadow: -1px -1px 0 #372f2f, 1px -1px 0 #372f2f, -1px 1px 0 #372f2f, 1px 1px 0 #372f2f; font-weight: bolder; animation: initial-render-grow 1s linear 3.5s both'>{{getvar::flavortext}}</p>\n\n</div> |\n/send | /setvar key=htmlready false |\n/hide {{lastMessageId}}",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false
        },
        {
            "id": 11,
            "label": "getvals",
            "title": "",
            "message": "/setvar key=startregex Rank\\s?[:\\-\\.]\\s |\n/setvar key=endregex \\nName\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=rank |\n\n/setvar key=startregex Description\\s?[:\\-\\.]\\s |\n/setvar key=endregex \\nValue\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=description |\n\n/setvar key=startregex Value\\s?[:\\-\\.]\\s |\n/setvar key=endregex \\nFlavor text\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=value |\n\n/setvar key=startregex Flavor text\\s?[:\\-\\.]\\s |\n/setvar key=endregex \\nImage\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=flavortext |\n\n/setvar key=startregex Image\\s?[:\\-\\.]\\s |\n/setvar key=endregex \\n1\\s?[:\\-\\.]\\s |\n/setvar key=image loli, cute, petite, flat, one girl, |\n/run creamsan.regextract |\n/setvar key=image {{getvar::image}} {{pipe}} |\n\n/setvar key=startregex 1\\s?[:\\-\\.]\\s |\n/setvar key=endregex \\n2\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=emoji1 |\n\n/setvar key=startregex 2\\s?[:\\-\\.]\\s |\n/setvar key=endregex \\n3\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=emoji2 |\n\n/setvar key=startregex 3\\s?[:\\-\\.]\\s |\n/setvar key=endregex \\n(?<=3\\s?[:\\-\\.][\\S\\s]+)``` |\n/run creamsan.regextract | /setvar key=emoji3 |\n\n/setvar key=color1 #fff | /setvar key=color2 #fff | /setvar key=color3 #fff |\n/if left=rank right=SSS rule=eq \"/setvar key=color1 #ec13d4 \\| /setvar key=color2 #fcf0f0 \\| /setvar key=color3 #ec13d4\" |\n/if left=rank right=SS rule=eq \"/setvar key=color1 #ff3333 \\| /setvar key=color2 #fcf0f0 \\| /setvar key=color3 #ff3333\" |\n/if left=rank right=S rule=eq \"/setvar key=color1 #ae821e \\| /setvar key=color2 #fcf0f0 \\| /setvar key=color3 #ae821e\" |\n/if left=rank right=A rule=eq \"/setvar key=color1 #4e1841 \\| /setvar key=color2 #c33ca2 \\| /setvar key=color3 #4e1841\" |\n/if left=rank right=B rule=eq \"/setvar key=color1 #30b3cf \\| /setvar key=color2 #134853 \\| /setvar key=color3 #30b3cf\" |\n/if left=rank right=C rule=eq \"/setvar key=color1 #194d1c \\| /setvar key=color2 #329a38 \\| /setvar key=color3 #194d1c\" |\n/if left=rank right=D rule=eq \"/setvar key=color1 #1a1a1a \\| /setvar key=color2 #4d4d4d \\| /setvar key=color3 #666666\" |\n/if left=rank right=F rule=eq \"/setvar key=color1 #241f0f \\| /setvar key=color2 #483e1e \\| /setvar key=color3 #6c5d2d\" |\n/setvar key=htmlready true |\n/echo Type and enter render to display in HTML.",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false
        },
        {
            "id": 12,
            "label": "pullcommand",
            "title": "",
            "message": "/setvar key=blocktrigger true |\n/if left=lolicoins right=0 rule=lte \"/echo You don't have any LoliCoins left. \\| /abort\" |\n/setvar key=rand {{random: F,F,F,F,D,D,D,D,D,D,C,C,C,C,C,C,B,B,B,B,B,B,B,B,B,B,A,A,A,A,S,SS,SSS}} |\n/if left=rand right=F rule=eq \"/setvar key=rankdesc A profoundly retarded or disabled loli.\" |\n/if left=rand right=D rule=eq \"/setvar key=rankdesc A bad-taste loli.\" |\n/if left=rand right=C rule=eq \"/setvar key=rankdesc A loli with a twist.\" |\n/if left=rand right=B rule=eq \"/setvar key=rankdesc An ordinary cute loli.\" |\n/if left=rand right=A rule=eq \"/setvar key=rankdesc A magical or high tech loli.\" |\n/if left=rand right=S rule=eq \"/setvar key=rankdesc A mythical loli.\" |\n/if left=rand right=SS rule=eq \"/setvar key=rankdesc A loli deity.\" |\n/if left=rand right=SSS rule=eq \"/setvar key=rankdesc A cosmic entity loli.\" |\n/setvar key=jbout {{user}} pulled the lever. The rank he gets is Rank {{getvar::rand}}: {{getvar::rankdesc}} Generate the girl as if playing a gacha game. Be descriptive, creative, and humorous. Adhere to the following format in code block: ```\nRank: {{getvar::rand}}\nName: Her name\nDescription: Her appearance and personality according to her rank description\nValue: How valuable she is\nFlavor text: \"Her flavor text here\"\nImage: A brief description of her appearance only. Write in comma-separated keywords and must include her clothing, visible distinguishing features, and facial expression. Example: red dress, red hair, twintails, dragon horns, very angry\n1. Her top 1 emoji\n2. Her top 2 emoji\n3. Her top 3 emoji\n``` |\n/addvar key=lolicoins -1 |\n/max lolicoins 0 | /setvar key=lolicoins |\n/trigger",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false
        },
        {
            "id": 13,
            "label": "getcommand",
            "title": "",
            "message": "/addvar key=lolicoins 1 |\n/echo Added LoliCoin |\n/setvar key=blocktrigger true",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false
        },
        {
            "id": 14,
            "label": "updatehtml",
            "title": "",
            "message": "/setvar key=tomsgprocess {{lastMessage}} |\n/setvar key=startregex Name\\s?[:\\-\\.]\\s |\n/setvar key=endregex \\nDescription\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=name |\n/setvar key=varname name | /run creamsan.isvardefined |\n/if left={{pipe}} right=true rule=eq else=\"/echo Invalid: No loli info found\" \"/run gachalolis.getvals\" |\n/setvar key=blocktrigger true",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false
        }
    ],
    "idIndex": 0
}