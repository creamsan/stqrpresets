{
    "version": 2,
    "name": "gachalolis",
    "disableSend": false,
    "placeBeforeInput": false,
    "injectInput": false,
    "qrList": [
        {
            "id": 2,
            "label": "init",
            "title": "",
            "message": "/echo Initializing |\n/if left={{lastMessageId}} right=0 rule=neq \"/abort\" |\n\n/setvar key=lolicoins 1 |\n/comment <style>@keyframes bg-animate{0%{background-position: 0% 0%} 25%{background-position: 100% 0%} 50%{background-position: 100% 100%} 75%{background-position: 0% 100%}} @keyframes initial-render-shrink {0%{opacity: 0%; transform: scale(3, 3)} 100%{opacity: 100%; transform: scale(1, 1)}} @keyframes initial-render-grow{0%{opacity: 0%; transform: scale(.1, .1)} 100%{opacity: 100%; transform: scale(1, 1)}} @keyframes rank-anim{0%{transform: rotate(-15deg)} 25%{opacity: 100%; transform: rotate(-25deg)} 50%{transform: rotate(-15deg)} 75%{transform: rotate(-5deg)} 100%{transform: rotate(-15deg)}} .desc{font-size: 10px; text-shadow: -1px -1px 0 #372f2f, 1px -1px 0 #372f2f, -1px 1px 0 #372f2f, 1px 1px 0 #372f2f; font-weight: bolder} .emoji{font-size: 50px; position: absolute; animation: initial-render-shrink 1s linear 3.5s both, rank-anim 1s linear infinite 3.5s}</style> |\n\n/setvar key=rankbgcolor1 index=SSS #d713ec |\n/setvar key=rankbgcolor2 index=SSS #ffe072 |\n/setvar key=rankbgcolor3 index=SSS #ec1346 |\n\n/setvar key=rankbgcolor1 index=SS #ff3333 |\n/setvar key=rankbgcolor2 index=SS #fffabe |\n/setvar key=rankbgcolor3 index=SS #ff3333 |\n\n/setvar key=rankbgcolor1 index=S #ae821e |\n/setvar key=rankbgcolor2 index=S #fcf0f0 |\n/setvar key=rankbgcolor3 index=S #ae821e |\n\n/setvar key=rankbgcolor1 index=A #b6008b |\n/setvar key=rankbgcolor2 index=A #e6b4ff |\n/setvar key=rankbgcolor3 index=A #b6008b |\n\n/setvar key=rankbgcolor1 index=B #059fbf |\n/setvar key=rankbgcolor2 index=B #c3ffd3 |\n/setvar key=rankbgcolor3 index=B #059fbf |\n\n/setvar key=rankbgcolor1 index=C #06430a |\n/setvar key=rankbgcolor2 index=C #34c73d |\n/setvar key=rankbgcolor3 index=C #06430a |\n\n/setvar key=rankbgcolor1 index=D #1d1d1d |\n/setvar key=rankbgcolor2 index=D #717171 |\n/setvar key=rankbgcolor3 index=D #1d1d1d |\n\n/setvar key=rankbgcolor1 index=F #442900 |\n/setvar key=rankbgcolor2 index=F #e09c35 |\n/setvar key=rankbgcolor3 index=F #442900 |\n\n/setvar key=rankdescdict index=SSS A cosmic entity loli. |\n/setvar key=rankdescdict index=SS A loli deity. |\n/setvar key=rankdescdict index=S A mythical loli. |\n/setvar key=rankdescdict index=A A magical or high tech loli. |\n/setvar key=rankdescdict index=B An ordinary cute loli. |\n/setvar key=rankdescdict index=C A loli with a twist. |\n/setvar key=rankdescdict index=D A bad-taste loli. |\n/setvar key=rankdescdict index=F A profoundly retarded or disabled loli.",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false
        },
        {
            "id": 3,
            "label": "userprocess",
            "title": "",
            "message": "/setvar key=userinput {{input}} |\n/if left=userinput right=pull rule=eq \"/run gachalolis.pullcommand\" |\n/if left=userinput right=render rule=eq \"/run gachalolis.renderhtml\" |\n/if left=userinput right=get rule=eq \"/run gachalolis.getcommand\"",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false
        },
        {
            "id": 4,
            "label": "aiprocess",
            "title": "",
            "message": "/if left={{lastMessageId}} right=0 rule=eq \"/abort\"",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": true,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false
        },
        {
            "id": 5,
            "label": "Send",
            "title": "",
            "message": "/run gachalolis.userprocess |\n/if left=blocktrigger right=true rule=eq else=\"/send {{getvar::userinput}}{{newline}}{{pipe}} \\| /trigger\" \"/setvar key=blocktrigger false\" | /flushvar nadanada | /setinput",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": false,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false
        },
        {
            "id": 10,
            "label": "renderhtml",
            "title": "",
            "message": "/setvar key=blocktrigger true |\n/run gachalolis.getvals |\n/if left=htmlready right=false rule=eq \"/echo Loli info incomplete. \\| /abort\" |\n\n/findentry file=\"Gacha Lolis\" {{getvar::name}} | /setvar key=uid |\n/if left=uid right=0 rule=gte else=\"/run gachalolis.addtolorebook\" \"/echo Loli name already exists in lorebook.\" |\n\n/buttons labels=[\"ST-Extension\",\"External\"] Select image gen |\n/if left={{pipe}} right=External rule=eq else=\"/sd quiet=true {{getvar::image}} \\| /setvar key=imagelink\" \"/input Input image link \\| /setvar key=imagelink\" |\n\n/comment <div style='background: linear-gradient(45deg, {{getvar::color1}} 0%, {{getvar::color2}} 50%, {{getvar::color3}} 100%); border: 2px solid {{getvar::color1}}; background-size: 500% 500%; font-size: 14px; margin: 20px auto; padding: 15px; text-align: center; border-radius: 8px; animation: initial-render-shrink 2s linear, bg-animate 10s linear infinite; position: relative; max-width: 400px'>\n\n<div style='width: 100%; height: 350px; color: red; text-align: center'>\n<img style='border: 2px solid {{getvar::color1}}; border-radius: 3px; box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.4)' src='{{getvar::imagelink}}' alt='Image loading error :('>\n</div>\n\n<img style='position: absolute; bottom: -60px; right: -35px; transform: scale(-1, -1)' src='https://files.catbox.moe/pwbovt.png' alt='border'>\n\n<img style='position: absolute; top: -5px; left: -5px; transform: scale(1, 1)' src='https://files.catbox.moe/omaule.png' alt='border'>\n\n<img style='position: absolute; top: 350px; left: 0px; transform: scale(1, 1)' src='https://files.catbox.moe/ok60ct.png' alt='ribbon'>\n\n<p style='color: {{getvar::color3}}; position: absolute; top: 15px; left: 5px; font-size: 24px; font-weight: bolder; text-shadow: -1px -1px 0 #efe7dc, 1px -1px 0 #efe7dc, -1px 1px 0 #efe7dc, 1px 1px 0 #efe7dc; animation: initial-render-shrink 1s linear 2.5s both, rank-anim 1s linear infinite 1.5s'>Rank {{getvar::rank}}</p>\n\n<p class='emoji' style='top: 25px; right: 5px'>{{getvar::emoji1}}</p>\n\n<p class='emoji' style='bottom: 25px; left: 5px'>{{getvar::emoji2}}</p>\n\n<p class='emoji' style='bottom: 25px; right: 5px'>{{getvar::emoji3}}</p>\n\n<p style='font-size: 25px; text-shadow: -1px -1px 0 #372f2f, 1px -1px 0 #372f2f, -1px 1px 0 #372f2f, 1px 1px 0 #372f2f; font-weight: bolder; animation: initial-render-grow 1s linear 2.5s both'>{{getvar::name}}</p>\n\n<p class='desc' style='animation: initial-render-grow 1s linear 3s both'>{{getvar::description}}</p>\n\n<p class='desc' style='animation: initial-render-grow 1s linear 3.25s both'>Value: {{getvar::value}}</p>\n\n<p class='desc' style='animation: initial-render-grow 1s linear 3.5s both'>{{getvar::flavortext}}</p>\n\n</div> |\n\n/setvar key=htmlready false |\n/echo HTML rendered. Be sure to update her lorebook key. |\n/flushvar jbout",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false
        },
        {
            "id": 11,
            "label": "getvals",
            "title": "",
            "message": "/setvar key=htmlready true |\n/setvar key=tomsgprocess {{lastMessage}} |\n/setvar key=endregex (\\n[\\S\\s]+?[:\\-\\.]\\s{{getvar::pipe}}\\n(?<=[\\S\\s]+?[:\\-\\.][\\S\\s]+)```) |\n\n/setvar key=startregex Name\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=name |\n/setvar key=varname name | /run creamsan.isvardefined |\n/setvar key=htmlready |\n/if left=htmlready right=false rule=eq \"/abort\" |\n\n/setvar key=startregex Rank\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=rank |\n/setvar key=varname rank | /run creamsan.isvardefined |\n/setvar key=htmlready |\n/if left=htmlready right=false rule=eq \"/abort\" |\n\n/setvar key=startregex Description\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=description |\n/setvar key=varname description | /run creamsan.isvardefined |\n/setvar key=htmlready |\n/if left=htmlready right=false rule=eq \"/abort\" |\n\n/setvar key=startregex Value\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=value |\n/setvar key=varname value | /run creamsan.isvardefined |\n/setvar key=htmlready |\n/if left=htmlready right=false rule=eq \"/abort\" |\n\n/setvar key=startregex Flavor text\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=flavortext |\n/setvar key=varname flavortext | /run creamsan.isvardefined |\n/setvar key=htmlready |\n/if left=htmlready right=false rule=eq \"/abort\" |\n\n/setvar key=startregex Image\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=image |\n/setvar key=varname image | /run creamsan.isvardefined |\n/setvar key=htmlready |\n/if left=htmlready right=false rule=eq \"/abort\" |\n/setvar key=image loli, cute, petite, flat, one girl, {{getvar::image}} |\n\n/setvar key=startregex 1\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=emoji1 |\n/setvar key=varname emoji1 | /run creamsan.isvardefined |\n/setvar key=htmlready |\n/if left=htmlready right=false rule=eq \"/abort\" |\n\n/setvar key=startregex 2\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=emoji2 |\n/setvar key=varname emoji2 | /run creamsan.isvardefined |\n/setvar key=htmlready |\n/if left=htmlready right=false rule=eq \"/abort\" |\n\n/setvar key=startregex 3\\s?[:\\-\\.]\\s |\n/run creamsan.regextract | /setvar key=emoji3 |\n/setvar key=varname emoji3 | /run creamsan.isvardefined |\n/setvar key=htmlready |\n/if left=htmlready right=false rule=eq \"/abort\" |\n\n/getvar index={{getvar::rank}} rankbgcolor1 |\n/setvar key=color1 |\n/getvar index={{getvar::rank}} rankbgcolor2 |\n/setvar key=color2 |\n/getvar index={{getvar::rank}} rankbgcolor3 |\n/setvar key=color3",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false
        },
        {
            "id": 12,
            "label": "pullcommand",
            "title": "",
            "message": "/flushvar jbout |\n/setvar key=blocktrigger true |\n/if left=lolicoins right=0 rule=lte \"/echo You don't have any LoliCoins left. \\| /abort\" |\n\n/setvar key=rand {{random: F,F,F,F,D,D,D,D,D,D,C,C,C,C,C,C,B,B,B,B,B,B,B,B,B,B,A,A,A,A,S,SS,SSS}} |\n\n/getvar index={{pipe}} rankdescdict |\n/setvar key=rankdesc |\n\n/setvar key=jbout {{user}} pulled the lever. The rank he gets is Rank {{getvar::rand}}: {{getvar::rankdesc}} Generate the girl as if playing a gacha game. Be descriptive, creative, and humorous. Adhere to the following format in code block: ```\nRank: {{getvar::rand}}\nName: Her name\nDescription: Her desc\nValue: How valuable she is\nFlavor text: \"Her flavor text here\"\nImage: Describe her appearance only using comma-separated keywords, and must include her clothing, visible features, and facial expression. Example: bright red dress, red hair, twintails, embers, black dragon horns, red eyes, fangs, very angry\n1. Her top 1 emoji\n2. Her top 2 emoji\n3. Her top 3 emoji\n``` |\n/addvar key=lolicoins -1 |\n/max lolicoins 0 | /setvar key=lolicoins |\n/trigger",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false
        },
        {
            "id": 13,
            "label": "getcommand",
            "title": "",
            "message": "/addvar key=lolicoins 1 |\n/echo Added LoliCoin |\n/setvar key=blocktrigger true",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false
        },
        {
            "id": 14,
            "label": "addtolorebook",
            "title": "",
            "message": "/createentry file=\"Gacha Lolis\" key=\"{{getvar::name}}\" Name: {{getvar::name}}\nRank: {{getvar::rank}}\nDescription: {{getvar::description}}\nValue: {{getvar::value}}\n{{getvar::flavortext}}\nImage: {{getvar::image}}\nTop emojis:\n1. {{getvar::emoji1}}\n2. {{getvar::emoji2}}\n3. {{getvar::emoji3}} |\n\n/findentry file=\"Gacha Lolis\" {{getvar::name}} | /setvar key=uid |\n\n/setentryfield file=\"Gacha Lolis\" uid={{getvar::uid}} field=position 3",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false
        }
    ],
    "idIndex": 17
}